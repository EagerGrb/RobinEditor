# 需求 5：图元种类设计与效果预研 —— 任务分发

目标：系统性整理室内房屋设计常用图元类型，设计其数据模型与交互优先级，并预研在 2D 工程图风格下的表现形式，为后续 3D/WebGL 映射做准备。

## PA 系（product-architect）

### TASK-5-PA-01 图元分类清单梳理
- 职责：
  - 按功能将图元分为：
    - 结构类：墙体、房间区域、柱、楼板/地面。
    - 开口类：门（单开/双开/推拉）、窗（平开/推拉）、墙洞/拱门。
    - 家具/设备类：床、桌椅、沙发、柜体、厨卫设备等。
    - 标注与辅助类：尺寸标注、文字标注、轴线/定位线。
  - 为每类图元写明用途与业务语义（例如：房间区域用于面积计算与材质分配）。
- 输出：
  - 图元分类清单文档，标明每类的必选/可选状态（阶段一是否一定要实现）。

### TASK-5-PA-02 图元与后续阶段的映射关系
- 职责：
  - 对每类图元定义：
    - 3D 挤出策略（墙厚/墙高、柱形状、楼板厚度等）。
    - 材质类型标签（墙面、地面、天花、家具、玻璃等）。
  - 标记：
    - 哪些图元在阶段一必须结构化（为 3D 做准备）。
    - 哪些图元可以仅作为 2D 装饰（后续再结构化）。
- 输出：
  - 图元 → 3D/材质 映射简表。

## GE 系（graphics-engineer）

### TASK-5-GE-01 图元 Model 字段设计
- 职责：
  - 为每类图元设计数据结构：
    - 墙体：起点/终点、厚度、高度、类型（承重/非承重）、关联房间 ID。
    - 房间区域：边界多边形、名称、用途（卧室/客厅等）。
    - 柱：位置、截面形状（矩形/圆形）、尺寸。
    - 门窗：关联墙 ID、沿墙体的位置参数、宽度、高度、开启方向等。
    - 家具：平面 footprint（矩形/多边形）、朝向、类型标记。
    - 标注：起止点、文本内容、样式。
  - 确保：
    - 所有必要的属性都可序列化到统一 Scene JSON 中。
- 输出：
  - 一组 Model 接口/类型定义草案。

### TASK-5-GE-02 交互优先级与简化策略
- 职责：
  - 按阶段一优先级排序交互支持：
    - 必须实现完整交互：墙体、门窗、尺寸标注。
    - 轻量交互即可：房间区域（从墙体自动推导，不必直接编辑）、家具（平面拖拽放置即可）。
  - 对暂不实现高级交互的图元写明简化策略（例如：柱仅支持移动，不支持拉伸）。
- 输出：
  - 交互优先级表，供后续迭代参考。

### TASK-5-GE-03 View 表现方案设计
- 职责：
  - 为每类图元指定 2D 工程图风格的 View 组合：
    - 墙体：两条平行线 + 填充（可选）。
    - 门：门洞 + 门扇弧线（开启方向可视化）。
    - 窗：墙洞 + 双线/中线表示玻璃区域。
    - 家具：轮廓 + 简化图标。
    - 柱：矩形或圆形符号。
  - 将这些定义为 ViewGenerator 的规则，输出为 DrawCommand 列表规范。

## RE 系（rendering-core-expert）

### TASK-5-RE-01 线型/颜色/填充风格预研
- 职责：
  - 设计一套统一的工程图配色与线型方案：
    - 墙体：较粗实线，深色。
    - 门窗：中等线宽，略浅色。
    - 家具：中等线宽，填充浅灰或轮廓 + 图标。
    - 辅助线/网格：浅色虚线。
  - 与 PA/GE 对齐可读性与美观度要求。
- 输出：
  - 样式规范草案，可映射为渲染层的样式配置。

### TASK-5-RE-02 选中与 Hover 效果设计
- 职责：
  - 确定选中/悬停状态下的视觉效果：
    - 高亮描边（例如亮蓝色），线宽略增。
    - 可选：半透明填充覆盖。
  - 确保对所有图元类别适用，并在渲染接口中以状态字段实现。

## QA 系（qa-automation-expert）

### TASK-5-QA-01 图元外观可视基准
- 职责：
  - 为各主要图元类别构造典型场景：
    - 单个墙体 + 门窗 + 简单家具 + 标注组合。
  - 截取渲染结果作为基准图像，用于后续回归测试。

### TASK-5-QA-02 图元数据完整性检查
- 职责：
  - 针对 GE 定义的 Model 结构，编写基本校验用例：
    - 序列化后字段不丢失，类型正确。
    - 必填字段缺失时，内核能给出合理错误或默认值处理。

