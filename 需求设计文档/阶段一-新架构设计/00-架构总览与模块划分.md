# 阶段二：新架构总览与模块划分

## 1. 架构目标
基于现有的图形基础设施（Stage 1 Part 3 产出），构建数据驱动的、高度解耦的图形编辑器应用层架构。
核心原则：**UI 数据驱动**、**内核与渲染分离**、**功能模块化**。

## 2. 模块划分与职责分配

### 2.1 UI 与交互层 (Frontend Architect & Product Architect)
| 模块名称 | 职责描述 | 负责人 |
| :--- | :--- | :--- |
| **UI Framework** | 全局 UI 布局框架，基于数据驱动生成界面。 | FA |
| **Property Panel** | 属性面板（左/右/底），负责属性的展示、编辑、编码与解码。 | FA |
| **Dialog System** | 内核与 UI 交互的中间层，处理弹窗、确认框、复杂参数配置。 | FA |
| **Shortcut Manager** | 快捷键配置、存储与冲突管理，分发命令到内核。 | FA/GE |

### 2.2 核心数据与业务逻辑层 (Graphics Engineer)
| 模块名称 | 职责描述 | 负责人 |
| :--- | :--- | :--- |
| **Design Rule** | 设计规则定义、存储、校验逻辑与错误报告生成。 | GE |
| **History System** | 撤销/重做栈管理，支持命令模式与状态快照。 | GE |
| **File Format** | 自定义文件格式 (.rbeditor) 的编码与解码规范。 | GE |
| **Import/Export** | 多格式（JSON/DXF/GLTF）导入导出转换器。 | GE |
| **Core Cache** | 核心结构缓存（空间索引、渲染命令缓存），加速查询与渲染。 | GE |

### 2.3 图形内核与渲染层 (Graphics Engineer & Rendering Core Expert)
| 模块名称 | 职责描述 | 负责人 |
| :--- | :--- | :--- |
| **Basic Primitives** | 基础图元（点/线/面/体）的数学表达与几何逻辑。 | GE |
| **Model-View Layer** | 视图层桥接模块，同步内核数据到渲染引擎（Canvas/WebGL）。 | GE/RE |
| **Algorithm** | 几何算法库（布尔运算、三角剖分、路径搜索、几何测量）。 | GE |
| **Rendering Engine** | 提供纯粹的绘图接口（DrawCall），不含业务逻辑。 | RE |

## 3. 详细设计索引
*   [01-UI框架与交互系统-详细设计.md](./01-UI框架与交互系统-详细设计.md)
*   [02-核心数据与文件系统-详细设计.md](./02-核心数据与文件系统-详细设计.md)
*   [03-图形内核与算法-详细设计.md](./03-图形内核与算法-详细设计.md)
