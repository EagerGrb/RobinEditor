# 阶段一 - 产品架构师（product-architect）任务清单

> 目标：把分散在各设计文档里的产品决策与业务规则，收敛成一份可执行的产品任务列表，支撑各技术角色落地实现。

## 0. 关联设计文档

- [00-架构总览与模块划分](../00-架构总览与模块划分.md)
- [01-UI框架与交互系统-详细设计](../01-UI框架与交互系统-详细设计.md)
- [02-核心数据与文件系统-详细设计](../02-核心数据与文件系统-详细设计.md)
- [03-图形内核与算法-详细设计](../03-图形内核与算法-详细设计.md)
- [04-基础设施与数据结构-详细设计](../04-基础设施与数据结构-详细设计.md)
- [05-历史记录系统-详细设计](../05-历史记录系统-详细设计.md)
- [06-属性系统与数据绑定-详细设计](../06-属性系统与数据绑定-详细设计.md)
- [07-图形内核-几何算法库-详细设计](../07-图形内核-几何算法库-详细设计.md)
- [EDA-阶段一-需求与任务分发](../EDA-阶段一-需求与任务分发.md)

---

## 1. PCB 场景与用户画像（来源：EDA 文档 4.1 + 00 文档）

1. 输出《阶段一 PCB 使用场景与用户画像》说明：
   - 明确用户群体：专业 PCB 工程师 / Maker / 教学场景；
   - 列出 5–8 个关键场景（从网表导入到简单布线、从空板开始设计等）；
   - 识别每个场景中对交互、性能、精度的关键诉求。
2. 将上述说明沉淀到 [00-架构总览与模块划分](../00-架构总览与模块划分.md) 的业务背景部分。

## 2. 实体域模型与能力边界（来源：EDA 文档 4.1 + 02 文档）

1. 确认阶段一实体清单：
   - PcbDocument、Board、LayerStack、Layer；
   - FootprintInstance、Pad、TrackSegment、Via；
   - Net、NetClass、BoardOutline、Dimension、Text。
2. 为每个实体输出一份「产品级描述」：
   - 该实体在用户心智中的角色（示例、截图可选）；
   - 阶段一必须具备的字段与行为（例如 Track 是否支持弧线）；
   - 与后续 DRC / 制造输出的关系（标注为“阶段二/三相关”）。
3. 将能力边界映射到阶段里程碑：
   - M1：画布/板框/层堆栈；
   - M2：Footprint 放置 + 基础编辑；
   - M3：走线/过孔 + 历史记录；
   - M4：属性面板 + 文件编解码 + 基础 DRC 接口。
4. 在 [EDA-阶段一-需求与任务分发](../EDA-阶段一-需求与任务分发.md) 中补充每个里程碑的“验收用例列表”。

## 3. DRC 规则骨架与约束（来源：EDA 文档 4.1 + 02 文档）

1. 定义阶段一支持的 DRC 规则类别：
   - 线宽 / 孔径 / 间距规则（NetClass 级）；
   - 层相关规则（某些 Net 只能走特定层）。
2. 为每个规则类别设计：
   - 规则的业务含义与典型示例；
   - 错误提示文案规范（风格、语言、严重等级）。
3. 输出 PCB 版 `Rule` / `RuleViolation` 结构的产品说明：
   - 哪些字段是阶段一必须实现的；
   - 哪些字段可预留给后续阶段。
4. 与 graphics-engineer 对齐：
   - 将规则骨架挂载到 [02-核心数据与文件系统-详细设计](../02-核心数据与文件系统-详细设计.md) 的 Design Rule 模块。

## 4. 视图与交互风格（来源：00/01/03 文档）

1. 定义 PCB 视图风格指南：
   - 不同实体（BoardOutline、Pad、Track、Via、CopperArea、Dimension、Text）的颜色、线型、填充规则；
   - 选中 / 悬停高亮规范（线宽、颜色、透明度）。
2. 定义基础交互规范：
   - 左键 / 右键 / 中键在不同上下文下的语义；
   - 框选、拖拽、滚轮缩放的行为期望；
   - 快捷键命名与展示规范（与 UI 文案保持一致）。
3. 将上述内容整理为一份《PCB 视图与交互风格简表》，供：
   - frontend-architect 实现 UI；
   - graphics-engineer 设计工具与命中逻辑；
   - rendering-core-expert 实现渲染风格。

## 5. 属性暴露策略（来源：06 文档）

1. 为以下实体定义阶段一必须暴露到属性面板的字段：
   - Board、Layer、Footprint、Pad、Track、Via；
2. 为每个实体划分属性分组：
   - 几何类（位置、尺寸、角度）；
   - 电气类（Net、NetClass、层关联）；
   - 工艺类（孔径、过孔类型等，可标记为预留）。
3. 约定字段的默认值与取值范围（含枚举值中文文案）。
4. 将上述定义同步到：
   - [06-属性系统与数据绑定-详细设计](../06-属性系统与数据绑定-详细设计.md) 的 Schema 章节；
   - [EDA-阶段一-需求与任务分发](../EDA-阶段一-需求与任务分发.md) 对应角色说明。

## 6. 阶段一范围内“不做”的清单（来源：EDA 文档 3.2）

1. 维护一份「非目标」列表：
   - 不做 Autorouter / 差分对 / 长度匹配；
   - 不做复杂覆铜布尔运算 / 热焊盘算法；
   - 不做完整制造输出（Gerber/ODB++）。
2. 对每一项非目标，说明：
   - 不做的原因（时间、复杂度、依赖）；
   - 未来阶段预期实现方式（简述即可）。
3. 确保所有设计文档在描述能力时，不与此列表冲突。

## 7. 跨角色对齐与评审

1. 组织并驱动以下评审：
   - 架构总览评审：确认模块边界与职责划分；
   - PCB 实体模型评审：确认实体字段与能力边界；
   - DRC 骨架与视图风格评审：确认规则与视觉表现一致性。
2. 对评审结论进行记录，并回写到对应设计文档中。

