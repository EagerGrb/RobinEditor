# 阶段二：WebGL (Three.js) PRD

## 目标

- 将 2D 场景数据挤出成 3D 模型
- 提供基础材质与家具模型加载
- 支持 2D/3D 一键切换与视角预览

## 关键功能范围

- 2D 数据到 3D 的墙体挤出与地面生成
- 拐角拼接与墙体厚度处理
- 门窗洞口切割与模型挂载
- glTF 家具模型加载与基本交互
- 简单光照与材质切换

## 非目标

- 高级物理光照与全局光照
- 复杂材质编辑器与节点系统

## 用户故事与验收标准

### 2D/3D 视图切换

- 用户可一键从 2D 切换到 3D
- 3D 模型与 2D 数据保持一致
- 视角切换流畅，延迟不超过 1 秒

### 墙体挤出

- 墙体厚度与高度可配置
- 内外墙拐角无明显缝隙与穿插
- 门窗洞口正确切割

### 家具模型加载

- 支持加载 glTF 模型
- 可进行放置与旋转
- 模型与地面保持贴合

## 技术挑战与方案方向

- 多边形挤出
  - 优先使用稳定的多边形裁剪与三角剖分

- 拐角处理
  - 内角采用切角或延伸交汇

- 贴图与 UV
  - 统一墙体与地面 UV 范式

## 成功指标

- 90% 典型户型可正确挤出
- 3D 视图渲染帧率稳定 30 FPS+
- 模型加载失败率低于 3%

## 数据接口要求

- 读取阶段一 JSON
- 输出 3D 场景参数与材质配置
